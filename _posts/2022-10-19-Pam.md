# Pam

• Linux 인증 모듈 PAM(Pluggable Authentication Modules) 

- 응용 프로그램에서 사용자 인증을 수행할 수 있게 공통적인 인증 방법을 제공하는 인증 모듈 
- 인증 모듈의 교체 및 추가/삭제가 용이 
- 개발자가 작성한 코드에 의한 인증이 아닌 시스템 관리자가 직접 응용프로그램의 인증 동작을 제어 
  - 응용 프로그램(서비스)에서 PAM을 호출하여 인증 처리 요청
  - 응용 프로그램 개발자가 사용자 인증에 신경 쓰지 않아도 되고, 시스템 관리자가 직접 응용 프로그램 의 인증 동작을 세밀하게 제어 가능 
- 다양한 인증 모듈을 호출하여 사용자 인증 과정을 수행 후 모듈 결과에 맞는 행동을 함 
- 모듈의 종류가 다양하며 인증 절차에 확실한 개념이 필요 
- 라이브러리 형태로 구동(windows 응용 프로그램의 DLL과 같은 라이브러리) 
- 악의적으로 이용할 경우 인증 설정 파일을 이용하여 인증을 수행하지 않고 계정에 접근이 가능

<br>

• PAM 동작 원리 

- 프로그램에서 사용자 인증 필요 시 PAM 라이브러리 함수 호출 
- PAM 호출 시 호출한 응용프로그램의 인증 설정 파일 검사 
  - 설정 파일이 존재하지 않을 경우 기본 설정 파일(other) 사용 
  - 설정 파일은 사용자 인증을 검사하기 위해 필요한 유형을 가지며 이를 기초로 적절한 모듈 호출 
  - 구문에 맞는 인증 모듈을 통해 여러 가지 검사 수행 
- 모듈의 인증 결과에 의해 결과 메시지가 결정되어 응용프로그램에 전달 



• PAM 인증 절차 

1) 사용자가 서비스를 이용 받기 위해 접근 
   - Local Service : login, gdm, gdm-password, passwd, reboot, setup, su, su-l, sudo, sudo-i, ... 
   - Remote Service : remote, smtp.postfix, sshd, vsftpd, ... 
2) 프로세스(로컬, 데몬)은 PAM에 인증 요청 
3) PAM은 개별 서비스 인증을 수행하기 위해 요청한 /etc/pam.d 하위에서 요청한 프로세스 이름에 해당하 는 설정 파일 검사 
4) 설정 파일의 구문에 의해 PAM 라이브러리 호출 및 결과 메시지 생성 후 프로세스에 반환 
5) 프로세스는 반환된 결과에 의해 적절한 행동 수행